# Работа с ClearML

## Настройка ClearML

Для начала зайдите на свой ClearML, в примере он развернут на [http://51.250.106.18:30080/](http://51.250.106.18:30080/). Его адрес можно найти в информации об узле на котором развернут pod:
![](images/Информация%20об%20узле.jpg)

Зайдите в [Settings -> Workspace](http://51.250.106.18:30080/settings/workspace-configuration) и там нажмите `Create new credentials`:
![](images/Clearml%20create%20creds.png)

Вам покажется модельное окно с сгенерированными credentials, выполните инструкцию написанную в нем: скопируйте текст credentials в `~/clearml.conf`:
```conf
api {
    web_server:http://51.250.106.18:30080/
    api_server:http://51.250.106.18:30008
    files_server:http://51.250.106.18:30081
    credentials {
        "access_key"="ACCESSKEY"
        "secret_key"="SECRETKEY"
    }
}
```

Осталось установить библиотеку [clearml](https://pypi.org/project/clearml/) для полноценной работы.

## Настройка окружения mlops-example
Для примера использовался пакетный менеджер [pixi](https://pixi.sh/latest/), что бы его установить выполните команду:
```bash
echo PIXI_VERSION=0.48.2 && curl -fsSL https://pixi.sh/install.sh | sh
```
Поскольку инструмент еще на стадии активной разработки то меду версиями могут быть различия и breaking changes, поэтому обратите внимание на версию `0.48.2`.

После успешной установки перейдите в папку `mlops-example` и выполните команду:

```bash
pixi install -a
```

Сразу обращу внимание, что <ins>не стоит гнаться за последними версиями библиотек</ins>. Ограничитесь `python==3.11`, `scikit-learn==1.2.2`, `numpy==1.26.4`. Это важно потому что на шагах связанных с разверткой моделей у вас могут появиться не состыковки по версиям поддерживаемых зависимостей и придется или менять версии библиотек в ваших экспериментах (как это было при подготовке примера), или собирать свои кастомные образы для serving'а моделей с обновленными зависимостями.

Для дальнейшей работы в окружении вы можете выполнить команду `pixi shell` или каждую команду начинать с `pixi run ...`

