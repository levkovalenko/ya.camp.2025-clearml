<!DOCTYPE html>
<html lang="en"><head>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-html/tabby.min.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-cc68601a05ab6ae055d8fbc512858b1e.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.8.15">

  <meta name="author" content="Лев Коваленко">
  <title>MLOps/DataOps YA.Camp 2025 – ClearML</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../site_libs/revealjs/dist/theme/quarto-534cd8e3a96973385dffff3f4709048d.css">
  <link href="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">ClearML</h1>
  <p class="subtitle">MLOps YA.Camp 2025</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Лев Коваленко 
</div>
</div>
</div>

</section>
<section id="section" class="slide level2">
<h2></h2>

<img data-src="images/clearml.png" class="quarto-figure quarto-figure-center r-stretch"><aside class="notes">
<p>Для начала давайте рассмотрим, что нам предлагает clearml, как фреймворк для проведения исследований. ClearML предоставляет как унифицированную платформу с открытым исходным кодом для непрерывного использования искусственного интеллекта, так и набор модулей для совместного взаимодействия. То есть авторы инструмента имеют в виду, что можно как ограничиться использование только clearml и проводить исследования в рамках платформы, так и использовать определенные модули clearml в своих процессах проведения исследований.</p>
<p>Clearml действительно имеет обширные возможности:</p>
<ul>
<li>возможности dataops (версионирование и управление данными)</li>
<li>трекинг экспериментов</li>
<li>платформа для обучение моделей</li>
<li>генерация отчетов и реестр для их хранения</li>
<li>model store, для упрощения поставок моделей и переиспользования предыдущих наработок</li>
<li>запуск CI-CD</li>
<li>model servering - автоматическое развертывание моделей</li>
</ul>
<p>И все это с уже настроенной оркестрацией, планировщиками и распределенными вычислениями. Звучит очень круто, как инструмент позволяющий покрыть практически весь процесс создания и поставки моделей.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="варианты-использования" class="slide level2">
<h2>Варианты использования</h2>
<ul>
<li>ClearML SaaS</li>
<li>Частное облако (VPC)</li>
<li>Локальная развертка</li>
<li>Управляемое VPC</li>
</ul>
<aside class="notes">
<p>ClearML предлагает 4 варианта использования:</p>
<ul>
<li>Управляемый ClearML SaaS. Развертывание выделенного облачного сервера Clear ML. Все данные и вычисления остаются в контуре клиентов или VPC.</li>
<li>Развертывание виртуального частного облака. Все данные остаются в контуре клиента. Самоуправление с полной удаленной поддержкой.</li>
<li>Локально Запускайте ClearML на собственных локальных серверах и персональных устройствах клиентов. Самоуправление с полной удаленной поддержкой.</li>
<li>VPC Полностью управляется ClearML в контуре.</li>
</ul>
<p>Далее мы будем рассматривать локальный запуск.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="архитектура-clearml" class="slide level2">
<h2>Архитектура ClearML</h2>

<img data-src="images/clearml_architecture.png" class="quarto-figure quarto-figure-center r-stretch"><aside class="notes">
<p>ClearML Server – решение поставляемое clearml – это внутренняя инфраструктура из набора сервисов ClearML . Существует бесплатная опенсорс-реализация этого ClearML Server. Ее можно развернуть на свои собственных мощностях и использовать внутри команды для совместной работы.</p>
<p>ClearML Server содержит следующие компоненты:</p>
<ul>
<li>Веб-приложение ClearML — одностраничный пользовательский интерфейс для управления экспериментами и просмотра данных.</li>
<li>RESTful API для:
<ul>
<li>Документирование и регистрация информации, статистики и результатов эксперимента.</li>
<li>Запрос истории экспериментов, журналов и результатов</li>
</ul></li>
<li>Локальный файловый сервер для хранения изображений и моделей, обеспечивающий легкий доступ к ним с помощью веб-приложения. При желании его можно заменить на s3-совместимое хранилище.</li>
</ul>
<p>Его можно быстро развернуть с помощью Docker, AWS EC2 AMI или Kubernetes. Есть две конфигурации сервера с зафиксированными портами или саб-деменами. Дефолтно используются следующие порты</p>
<ul>
<li>Веб-приложение на порту 8080</li>
<li>Служба API на порту 8008</li>
<li>Служба хранения файлов на порту 8081</li>
</ul>
<p>Ознакомиться с запуском вы можете в <a href="https://github.com/allegroai/clearml-server?tab=readme-ov-file#launching">документации</a>, он несколько различается для разных систем. Но заключается в запуске docker-compose или kubectl. При запуске у вас будут запущены все компоненты clear ml, а также elatic, mongo db и redis для хранения информации на сервере clear ml.</p>
<p>Важный нюанс, дефолтно clear ml не запускается функции аутентификации, и соответственно на селфхостед версию может зайти кто угодно. Для подключения аутентификации нужно изменить конфиг и прописать список пользователей (логин + пароль) для кого будет доступе сервис, то есть это будет дополнительная работа для админа.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="clearml-agent" class="slide level2">
<h2>ClearML agent</h2>

<img data-src="images/clearml_agent.png" class="quarto-figure quarto-figure-center r-stretch"><aside class="notes">
<p>ClearML Agent — это виртуальная среда и менеджер выполнения решений DL/ML на машинах с графическим процессором. Он интегрируется с пакетом ClearML Python и сервером ClearML, обеспечивая полноценное кластерное решение ИИ. Основное внимание уделяется:</p>
<ul>
<li>Воспроизведению экспериментов, включая их полную среду.</li>
<li>Масштабированию рабочих процессов на нескольких целевых машинах.</li>
</ul>
<p>Агент ClearML выполняет эксперимент или другой рабочий процесс, воспроизводя состояние кода с исходного компьютера на удаленный компьютер. Для этого он клонирует состояние репозитория (определенный коммит) указанные в эксперименте и добавляет git diff от коммита, сохраненный в эксперименте.</p>
<p>На предыдущей диаграмме показан типичный процесс, в котором агент выполняет задачу:</p>
<ul>
<li>Поставьте задачу для выполнения в очередь.</li>
<li>Агент извлекает задачу из очереди.</li>
<li>Агент запускает Docker-контейнер, в котором выполняется код задачи.</li>
<li>Настраивается среда выполнения задачи:
<ul>
<li>Выполнить любой настроенный сценарий пользовательской установки.</li>
<li>Установить все необходимые системные пакеты.</li>
<li>Клонируется код из репозитория git.</li>
<li>Применяются все записанные незафиксированные изменения.</li>
<li>Настраивает среду Python и необходимые пакеты.</li>
</ul></li>
<li>Сценарий/код задачи выполняется.</li>
</ul>
<blockquote>
<p>Агент ClearML использует версию Python, доступную в среде или докере, в котором он выполняет код. Он не устанавливает Python, поэтому обязательно используйте докер или среду той версии, которая вам нужна.</p>
</blockquote>
<blockquote>
<p>Агент ClearML может работать на Google Colab. Это помогает пользователям использовать вычислительные ресурсы, предоставляемые Google Colab, и отправлять на них эксперименты для выполнения.</p>
</blockquote>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="clearml-serving" class="slide level2">
<h2>ClearML serving</h2>

<img data-src="images/clearml_serving.png" class="quarto-figure quarto-figure-center r-stretch"><aside class="notes">
<p>ClearML serving – это сервис для развертывания и оркестровки моделей. Он позволяет развертывать модели, включая обслуживание и предварительную обработку кода в кластере Kubernetes или пользовательском решении на основе контейнера.</p>
<p>Важные качества такого подхода:</p>
<ul>
<li>Простота развертывания и настройки
<ul>
<li>Поддержка моделей машинного обучения (Scikit Learn, XGBoost, LightGBM)</li>
<li>Поддержка моделей глубокого обучения (TensorFlow, PyTorch, ONNX)</li>
<li>Настраиваемый RestAPI для обслуживания (т.е. позволяет выполнять предварительную и последующую обработку для каждой модели для легкой интеграции)</li>
</ul></li>
<li>Гибкость
<ul>
<li>Развертывание модели в режиме онлайн</li>
<li>Развертывание модели/версии конечной точки в режиме онлайн (т.е. нет необходимости останавливать работу сервиса)</li>
<li>Отдельная предварительная и постобработка кода Python для каждой модели</li>
</ul></li>
<li>Масштабируемость
<ul>
<li>Несколько моделей на контейнер</li>
<li>Несколько моделей на одну услугу обслуживания</li>
<li>Поддержка нескольких служб (полностью разделенные многофункциональные службы, работающие независимо)</li>
<li>Поддержка нескольких кластеров</li>
<li>Автоматическое масштабирование узлов «из коробки» на основе нагрузки/использования</li>
</ul></li>
<li>Эффективность
<ul>
<li>Использование ресурсов нескольких контейнеров</li>
<li>Поддержка узлов CPU и GPU</li>
<li>Автоматическое пакетирование для моделей DL</li>
<li>Автоматическое развертывание</li>
<li>Автоматические обновления моделей с поддержкой Canary</li>
<li>Программируемый API для развертывания модели</li>
<li>Развертывание Canary A/B — онлайн-обновления Canary</li>
</ul></li>
<li>Мониторинг
<ul>
<li>Отчетность по показателям использования</li>
<li>Метрическая панель инструментов</li>
<li>Метрика производительности модели</li>
<li>Панель управления производительностью модели</li>
</ul></li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section>
<section id="основные-команды" class="title-slide slide level1 center">
<h1>Основные команды</h1>

</section>
<section id="подключение-к-clearml-серверу" class="slide level2">
<h2>Подключение к ClearML серверу</h2>
<p><code>~/clearml.conf</code></p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb1"><pre class="sourceCode numberSource conf number-lines code-with-copy"><code class="sourceCode toml"><span id="cb1-1"><a></a><span class="dt">api</span> <span class="er">{</span></span>
<span id="cb1-2"><a></a>    <span class="dt">web_server</span><span class="er">:</span> <span class="dt">"http://localhost:8008"</span></span>
<span id="cb1-3"><a></a>    <span class="dt">api_server</span><span class="er">:</span> <span class="dt">"http://localhost:8080"</span></span>
<span id="cb1-4"><a></a>    <span class="dt">files_server</span><span class="er">:</span> <span class="dt">"http://localhost:8081"</span></span>
<span id="cb1-5"><a></a><span class="er">}</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<aside class="notes">
<p>Предварительно <a href="https://github.com/allegroai/clearml/releases/tag/v1.15.1">установите</a> <code>clearml</code> в ваш проект с помощью pip/poetry/pdm и тд.</p>
<p>Для подключения к серверу есть два варианта:</p>
<ol type="1">
<li>Запустить команду <code>clearml-init</code> для интерактивной настройки</li>
<li>Ручками прописать в файле <code>~/clearml.conf</code> адреса основных компонент clear ml.</li>
</ol>
<p>После настройки вы легко сможете подключать clearm ml к серверу, загружать или выгружать данные, модели, результаты экспериментов. буквально парой строк кода.</p>
<p>Есть важное примечание, если вы используете саб-доменную конфигурацию, то нужно указывать протокол http/https, а так же порты если они отличаются от 80 и 443</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="трекинг-экспериментов" class="slide level2">
<h2>Трекинг экспериментов</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb2"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a></a><span class="im">from</span> clearml <span class="im">import</span> Task</span>
<span id="cb2-2"><a></a></span>
<span id="cb2-3"><a></a></span>
<span id="cb2-4"><a></a><span class="kw">def</span> main():</span>
<span id="cb2-5"><a></a>    ...</span>
<span id="cb2-6"><a></a>    task <span class="op">=</span> Task.init(project_name<span class="op">=</span><span class="st">'great project'</span>, task_name<span class="op">=</span><span class="st">'best experiment'</span>)</span>
<span id="cb2-7"><a></a>    ...</span>
<span id="cb2-8"><a></a>    task.set_progress(<span class="dv">0</span>)</span>
<span id="cb2-9"><a></a>    ...</span>
<span id="cb2-10"><a></a>    task.set_progress(<span class="dv">50</span>)</span>
<span id="cb2-11"><a></a>    <span class="bu">print</span>(task.get_progress())</span>
<span id="cb2-12"><a></a>    ...</span>
<span id="cb2-13"><a></a>    task.set_progress(<span class="dv">100</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div><div class="column" style="width:50%;">
<p><img data-src="images/clearml_experiments.png"></p>
</div></div>
<aside class="notes">
<p>В ClearML эксперименты организованы в виде задач. ClearML автоматически регистрирует ваш эксперимент и код, включая выходные данные и параметры из <a href="https://clear.ml/docs/latest/docs/clearml_sdk/task_sdk/#automatic-logging">популярных платформ</a> машинного обучения, как только вы интегрируете ClearML со своим кодом.</p>
<p>Для этого импортируете класс Task в код, инициализируйте Task, указав проект и имя эксперимента. Если проект еще не существует, новый создается автоматически. Действительно этих двух строк хватит что бы логировать практически любые эксперименты</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="что-логирует-clear-ml" class="slide level2 smaller scrollable">
<h2>Что логирует clear ml</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><strong>Hyperparameters</strong>
<ul>
<li>Command Line Parsing
<ul>
<li>click</li>
<li>argparse</li>
<li>Python Fire</li>
<li>LightningCLI</li>
</ul></li>
<li>TensorFlow Definitions (absl-py)</li>
<li>Hydra</li>
</ul></li>
<li><strong>Metrics, scalars, plots</strong>
<ul>
<li>Matplotlib</li>
<li>Tensorboard</li>
<li>TensorboardX</li>
</ul></li>
<li><strong>Execution details including</strong>
<ul>
<li>Git information</li>
<li>Uncommitted code modifications</li>
<li>Python environment</li>
<li>Execution configuration</li>
</ul></li>
</ul>
</div><div class="column" style="width:50%;">
<ul>
<li><strong>Models</strong>
<ul>
<li>TensorFlow</li>
<li>Keras</li>
<li>PyTorch</li>
<li>AutoKeras</li>
<li>CatBoost</li>
<li>Fast.ai</li>
<li>LightGBM</li>
<li>MegEngine</li>
<li>MONAI</li>
<li>scikit-learn (only using joblib)</li>
<li>XGBoost (only using joblib)</li>
<li>YOLOv8</li>
<li>YOLOv5</li>
</ul></li>
</ul>
</div></div>
</section>
<section id="clearml-task" class="slide level2 smaller">
<h2>ClearML Task</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>Получение эксперимента по ID</strong></p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb3"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a></a>prev_task <span class="op">=</span> Task.get_task(task_id<span class="op">=</span><span class="st">'123456deadbeef'</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><strong>Получение эксперимента по имени</strong></p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb4"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a></a>prev_task <span class="op">=</span> Task.get_task(</span>
<span id="cb4-2"><a></a>    project_name<span class="op">=</span><span class="st">'great project'</span>,</span>
<span id="cb4-3"><a></a>    task_name<span class="op">=</span><span class="st">'best experiment'</span>,</span>
<span id="cb4-4"><a></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div><div class="column" style="width:50%;">
<p><strong>Фильтрация экспериментов по разным параметрам</strong></p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb5"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a></a>task_list <span class="op">=</span> Task.get_tasks(</span>
<span id="cb5-2"><a></a>    task_ids<span class="op">=</span><span class="va">None</span>,  <span class="co"># type Optional[Sequence[str]]</span></span>
<span id="cb5-3"><a></a>    project_name<span class="op">=</span><span class="va">None</span>,  <span class="co"># Optional[str]</span></span>
<span id="cb5-4"><a></a>    task_name<span class="op">=</span><span class="va">None</span>,  <span class="co"># Optional[str]</span></span>
<span id="cb5-5"><a></a>    allow_archived<span class="op">=</span><span class="va">True</span>, <span class="co"># [bool]</span></span>
<span id="cb5-6"><a></a>    task_filter<span class="op">=</span><span class="va">None</span>,  <span class="co"># Optional[Dict]#</span></span>
<span id="cb5-7"><a></a>    <span class="co"># tasks with tag `included_tag` or without tag `excluded_tag`</span></span>
<span id="cb5-8"><a></a>    tags<span class="op">=</span>[<span class="st">'included_tag'</span>, <span class="st">'-excluded_tag'</span>]</span>
<span id="cb5-9"><a></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div></div>
<aside class="notes">
<p>Каждый ранее выполненный эксперимент сохраняется как Задача. То есть атомарной единицей исследования в clearml является разовый запуск какого-то эксперимента. Эксперименту-задаче автоматически присваивается автоматически сгенерированный уникальный идентификатор (строка UUID), который нельзя изменить и который всегда определяет одну и ту же задачу в системе.</p>
<p>Можно получить объект Task программным путем, запросив систему на основе идентификатора задачи или комбинации проекта и имени. Вы также можете запрашивать задачи на основе их свойств, например теговб имени проекта или задачи и тд.</p>
<p>Когда вы получили объект Task, то можете получить его состояние: модель, датасет, метрики, параметры и тд.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="clearml-artifacts" class="slide level2 smaller">
<h2>ClearML artifacts</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>Добавление артефактов</strong></p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb6"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a></a><span class="co"># конкретный файл</span></span>
<span id="cb6-2"><a></a>task.upload_artifact(</span>
<span id="cb6-3"><a></a>    name<span class="op">=</span><span class="st">'data'</span>,</span>
<span id="cb6-4"><a></a>    artifact_object<span class="op">=</span><span class="st">'/path/to/preprocess_data.csv'</span>,</span>
<span id="cb6-5"><a></a>)</span>
<span id="cb6-6"><a></a><span class="co"># дирректория и все файлы внутри нее</span></span>
<span id="cb6-7"><a></a>task.upload_artifact(name<span class="op">=</span><span class="st">'folder'</span>, artifact_object<span class="op">=</span><span class="st">'/path/to/folder/'</span>)</span>
<span id="cb6-8"><a></a><span class="co"># объект python</span></span>
<span id="cb6-9"><a></a>numpy_object <span class="op">=</span> np.eye(<span class="dv">100</span>, <span class="dv">100</span>)</span>
<span id="cb6-10"><a></a>task.upload_artifact(name<span class="op">=</span><span class="st">'features'</span>, artifact_object<span class="op">=</span>numpy_object)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div><div class="column" style="width:50%;">
<p><strong>Использование артефактов</strong></p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb7"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a></a>preprocess_task <span class="op">=</span> Task.get_task(task_id<span class="op">=</span><span class="st">'preprocessing_task_id'</span>)</span>
<span id="cb7-2"><a></a>local_csv <span class="op">=</span> preprocess_task.artifacts[<span class="st">'data'</span>].get_local_copy()</span>
<span id="cb7-3"><a></a></span>
<span id="cb7-4"><a></a></span>
<span id="cb7-5"><a></a>prev_task <span class="op">=</span> Task.get_task(task_id<span class="op">=</span><span class="st">'the_training_task'</span>)</span>
<span id="cb7-6"><a></a>last_snapshot <span class="op">=</span> prev_task.models[<span class="st">'output'</span>][<span class="op">-</span><span class="dv">1</span>]</span>
<span id="cb7-7"><a></a>local_weights_path <span class="op">=</span> last_snapshot.get_local_copy()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div></div>
<aside class="notes">
<p>ClearML позволяет легко хранить выходные продукты эксперимента — снимок модели/файл весов, предварительную обработку данных, функциональное представление данных и многое другое!</p>
<p>По сути, артефакты — это файлы (или объекты Python), загруженные из сценария и хранящиеся вместе с задачей. К этим артефактам можно легко получить доступ через веб-интерфейс или программно.</p>
<p>Артефакты можно хранить где угодно: на сервере ClearML, в любом решении для хранения объектов или в общей папке.</p>
<p>Зарегистрированные артефакты могут использоваться другими задачами, будь то предварительно обученная модель или обработанные данные. Чтобы использовать артефакт, сначала вам необходимо получить экземпляр задачи, которая его изначально создала, затем вы либо загружаете его и получаете путь к нему, либо получаете объект артефакта напрямую.</p>
<p>task.artifacts— это словарь, ключами которого являются имена артефактов, а возвращаемый объект — это объект артефакта.</p>
<ul>
<li>Вызов get_local_copy() создает локально копию артефакта и возвращает путь до объекта. Таким образом, при следующем выполнении кода вам не потребуется повторно загружать артефакт.</li>
<li>Вызов get() возвращает десериализованный python объект, не сохраняя его в локальный кеш.</li>
</ul>
<p>Еще хотелось бы уделить внимание моделям. Модели — это особый вид артефакта. Модели, созданные с помощью популярных платформ (таких как PyTorch, TensorFlow, Scikit-learn), автоматически регистрируются ClearML. Все снимки автоматически записываются. Чтобы убедиться, что вы также автоматически загружаете снимок модели (вместо сохранения ее локального пути), укажите место хранения файлов модели, в которые будут загружены. для этого надо добавить аргумент <code>output_uri</code> в инициализацию Task.</p>
<ul>
<li>Общая папка:/mnt/share/folder</li>
<li>S3:s3://bucket/folder</li>
<li>Сервисы, отличные от AWS S3 (например, MinIO):s3://host_addr:port/bucket</li>
<li>Облачное хранилище Google:gs://bucket-name/folder</li>
<li>Хранилище Azure:azure://<account name="">.blob.core.windows.net/path/to/file</account></li>
</ul>
<p>Что бы получить модель, нужно получить экземпляр задачи, обучающей исходные файлы весов, затем вы можете запросить у задачи ее выходные модели (список снимков) и получить последний снимок.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="clearml-metrics" class="slide level2 smaller">
<h2>ClearML metrics</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>Автоматическое логирование</strong></p>
<ul>
<li>TensorBoard</li>
<li>TensorBoardX</li>
<li>Matplotlib</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/clearml_auto_metrics.png" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
</div><div class="column" style="width:50%;">
<p><strong>Ручное логирование метрик</strong></p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb8"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a></a>logger <span class="op">=</span> task.get_logger()</span>
<span id="cb8-2"><a></a></span>
<span id="cb8-3"><a></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">100</span>):</span>
<span id="cb8-4"><a></a>    logger.report_scalar(</span>
<span id="cb8-5"><a></a>        <span class="st">"unified graph"</span>, <span class="st">"series A"</span>, iteration<span class="op">=</span>i, value<span class="op">=</span><span class="fl">1.</span><span class="op">/</span>(i<span class="op">+</span><span class="dv">1</span>)</span>
<span id="cb8-6"><a></a>    )</span>
<span id="cb8-7"><a></a>    logger.report_scalar(</span>
<span id="cb8-8"><a></a>        <span class="st">"unified graph"</span>, <span class="st">"series B"</span>, iteration<span class="op">=</span>i, value<span class="op">=</span><span class="fl">10.</span><span class="op">/</span>(i<span class="op">+</span><span class="dv">1</span>)</span>
<span id="cb8-9"><a></a>    )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/clearml_handle_logging.png" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
</div></div>
<aside class="notes">
<p>ClearML автоматически фиксирует показатели, передаваемые в ведущие библиотеки визуализации, такие как TensorBoard и Matplotlib, без необходимости использования дополнительного кода.</p>
<p>Кроме того, ClearML фиксирует и регистрирует все, что выводится на стандартный вывод, — от сообщений отладки до ошибок и предупреждающих сообщений библиотеки.</p>
<p>Информация о графическом процессоре, процессоре, памяти и сети также фиксируется автоматически.</p>
<p>ClearML также поддерживает составление вручную отчетов по нескольким типам показателей и графиков, таких как линейные графики, гистограммы и даже графические диаграммы.</p>
<p>Объект, используемый для ручного логирования метрик, называется logger и получается путем вызова Task.get_logger(). Например в него можно залогировать набор значений и в дальнейшем clearml построит график по тим значениям.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="clearml-logging" class="slide level2 scrollable smaller">
<h2>ClearML logging</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>Текст <a href="https://clear.ml/docs/latest/docs/references/sdk/logger#report_text">report_text</a></li>
<li>Скаляры <a href="https://clear.ml/docs/latest/docs/references/sdk/logger#report_scalar">report_scalar</a></li>
<li>Одинарное значение метрики <a href="https://clear.ml/docs/latest/docs/references/sdk/logger#report_single_value">report_single_value</a></li>
<li>Отладочные примеры
<ul>
<li>Изображений <a href="https://clear.ml/docs/latest/docs/references/sdk/logger#report_image">report_image</a></li>
<li>HTML и Медиа (аудио, видео) <a href="https://clear.ml/docs/latest/docs/references/sdk/logger#report_media">report_media</a></li>
</ul></li>
<li>Jupyter Notebook как отчет по эксперименту <a href="https://github.com/allegroai/clearml/blob/master/examples/reporting/jupyter_logging_example.ipynb">jupiter logging</a></li>
</ul>
</div><div class="column" style="width:50%;">
<ul>
<li>Графики
<ul>
<li>2D графики <a href="https://clear.ml/docs/latest/docs/references/sdk/logger#report_scatter2d">report_scatter2d</a>
<ul>
<li>Гистограммы</li>
<li>Матрицы ошибок</li>
<li>Диаграммы рассеяния</li>
</ul></li>
<li>3D графики <a href="https://clear.ml/docs/latest/docs/references/sdk/logger#report_scatter3d">report_scatter3d</a>
<ul>
<li>Графики поверхностей(surface)</li>
<li>Диаграммы рассеяния</li>
</ul></li>
<li>Таблицы <a href="https://clear.ml/docs/latest/docs/references/sdk/logger#report_table">report_table</a>
<ul>
<li>Pandas DataFrame</li>
<li>CSV-файл</li>
</ul></li>
<li>Matplotlib figures <a href="https://clear.ml/docs/latest/docs/references/sdk/logger#report_matplotlib_figure">report_matplotlib_figure</a></li>
<li>Plotly figures <a href="https://clear.ml/docs/latest/docs/references/sdk/logger#report_plotly">report_plotly</a></li>
</ul></li>
</ul>
</div></div>
<aside class="notes">
<p>Это весь список того что можно передать в logger, то есть можно сохранить текст, метрики, динамику метрик, какие-то графики из сырых данных, matplolib или plotly figures, различные таблицы данных и все это потом будет доступно в clearml при просмотре эксперимента.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="clearml-data" class="slide level2 smaller">
<h2>ClearML data</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p>clearml-data — Утилита CLI для управления датасетами.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb9"><pre class="sourceCode numberSource sh number-lines code-with-copy"><code class="sourceCode bash"><span id="cb9-1"><a></a><span class="ex">clearml-data</span> create <span class="pp">[-</span><span class="ss">h</span><span class="pp">]</span> [--parents [PARENTS [PARENTS ...]]] [--project PROJECT]</span>
<span id="cb9-2"><a></a>                    <span class="ex">--name</span> NAME [--version VERSION] [--output-uri OUTPUT_URI]</span>
<span id="cb9-3"><a></a>                    <span class="ex">[--tags</span> [TAGS [TAGS ...]]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div><div class="column" style="width:50%;">
<p>clearml.Dataset — Интерфейс Python для управления данными.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb10"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a></a><span class="im">from</span> clearml <span class="im">import</span> Dataset</span>
<span id="cb10-2"><a></a></span>
<span id="cb10-3"><a></a>dataset <span class="op">=</span> Dataset.create(</span>
<span id="cb10-4"><a></a>  dataset_name<span class="op">=</span><span class="st">'dataset name'</span>,</span>
<span id="cb10-5"><a></a>  dataset_project<span class="op">=</span><span class="st">'dataset project'</span>,</span>
<span id="cb10-6"><a></a>  dataset_version<span class="op">=</span><span class="st">"1.0"</span>,</span>
<span id="cb10-7"><a></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div></div>

<img data-src="images/clearml-data.gif" class="quarto-figure quarto-figure-center r-stretch"><aside class="notes">
<p>ClearML Data Management решает две важные задачи:</p>
<ul>
<li>Доступность. Обеспечение легкого доступа к данным с любого компьютера.</li>
<li>Управление версиями — связывание данных и экспериментов для лучшей прослеживаемости.</li>
</ul>
<p>Наборы clearml dataset можно настроить для наследования от других наборов данных, что позволяет создавать линии передачи данных, а пользователи могут отслеживать, когда и как изменяются их данные. Изменения набора данных сохраняются с использованием дифференцируемого хранилища, то есть версия будет хранить набор изменений из предыдущего родительского набора данных.</p>
<p>Управлять можно из CLI и из питона, используя соответствующие инструменты clearml-data и clearml.Dataset.</p>
<p>К хорошим практикам управления данными относятся:</p>
<ul>
<li>версионирование данных (если нужно как-то изменить набор данных, то создайте новую версию набора данных, а не новый датасет, так будет проще отслеживать изменения)</li>
<li>документирование данных (<code>Dataset.get_logger()</code> и вы получаете те же возможности, что и в эксперименте)</li>
<li>структура данных, наборы данных можно организовывать в проекты (и подпроекты) . Кроме того, при создании набора данных к набору данных можно применять теги, что упростит поиск набора данных.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="clear-ml-pipelines" class="slide level2">
<h2>Clear ML pipelines</h2>

<img data-src="images/clearml_pipelines.png" class="quarto-figure quarto-figure-center r-stretch"><aside class="notes">
<p>Пайплайны — это способ оптимизировать и соединить несколько процессов, используя выходные данные одного шага как входные данные другого.</p>
<p>Пайплайны ClearML реализуются с помощью задачи контроллера, которая содержит логику взаимодействия шагов пайплайна. В зависимости от спецификаций, изложенных в задаче контроллера, параметры шага могут быть переопределены, что позволяет использовать продукты выполнения других шагов, такие как артефакты и параметры.</p>
<p>При запуске контроллер последовательно запускает этапы пайплайна. Логика и шаги пайплайна могут выполняться локально или на любом компьютере с помощью Clearml-агента.</p>
<p>ClearML поддерживает несколько режимов выполнения пайлайна:</p>
<ul>
<li>Удаленный режим (по умолчанию). В этом режиме логика pipeline controller выполняется через назначенную очередь, и все шаги пайплайна запускаются удаленно через соответствующие очереди. Поскольку каждая задача выполняется независимо, она может контролировать свой репозиторий git (при необходимости), необходимые пакеты Python и конкретный контейнер, который будет использоваться.</li>
<li>Локальный режим. В этом режиме Пайплайн выполняется локально, а шаги выполняются как подпроцессы. Каждый подпроцесс использует ту же среду Python, что и логика основного пайплайна.</li>
<li>Режим отладки (для PipelineDecorator). В этом режиме весь пайплайн выполняется локально, при этом контроллер пайплайна и шаги вызываются синхронно, как обычные функции Python, обеспечивая полную возможность отладки каждого вызова функции.</li>
</ul>
<p>Пайплайны ClearML создаются из кода с использованием одного из следующих способов:</p>
<ul>
<li>Класс PipelineController — Pythonic интерфейс для определения и настройки контроллера пайплайна и его шагов. Контроллер и шаги могут быть функциями в вашем коде Python или существующими задачами ClearML .</li>
<li>Класс PipelineDecorator — набор декораторов Python, которые преобразуют ваши функции в контроллер пайплайна и шаги.</li>
</ul>
<blockquote>
<p>Поскольку контроллер пайплайна сам по себе является задачей-экспериментом ClearML , его можно использовать в качестве шага пайплайна. Это позволяет создавать более сложные рабочие процессы, например пайплайны, выполняющие другие пайплайны, или пайплайны, выполняющие несколько задач одновременно.</p>
</blockquote>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>


</section></section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">

</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: false,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copied!");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copied!");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
            const codeEl = trigger.previousElementSibling.cloneNode(true);
            for (const childEl of codeEl.children) {
              if (isCodeAnnotation(childEl)) {
                childEl.remove();
              }
            }
            return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp("https:\/\/levkovalenko\.github\.io\/ya\.camp\.2025-clearml\/");
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    

</body></html>